<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Webdevelopment: Cookies - Hogeschool Novi</title>
</head>
<body>
<h1>Oefenen met cookies</h1>
<h2>Opgave 1: Hallo persoon</h2>
<p>Creëer een input-veld met een opslaan knop. Hierin kan de gebruiker zijn naam invoeren. Wanneer er een cookie bestaat
met de naam van de gebruiker, toon dan de tekst: Hallo gebruiker</p>

<h2>opgave 2: Variabele naam/value pair</h2>
<p>Creëer twee input velden. In het eerste veld kan de gebruiker de naam (dus variabelenaam) van de cookie invullen,
    in het tweede veld de waarde.  Voeg deze waardes toe als één cookie. Toon vervolgens alle cookies.</p>
<h2>Opgave 3: Verwijder cookie</h2>
<p>Laat de gebruiker een waarde invullen. Als deze cookie bestaat, verwijder deze.</p>
<hr>
<p>Veel van de JS-functies zijn al geschreven!</p>

<script>
    /**
     * Functie die een cookie maakt (of aanpast).
     * @param cname De naam van de cookie
     * @param cvalue De waarde van de cookie
     * @param exdays Hoeveel dagen de cookie moet blijven bestaan.
     */
    function createCookie(cname, cvalue, exdays) {
        let date = new Date();
        date.setTime(date.getTime() + (exdays*24*60*60*1000));
        let expires = "expires="+ date.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }

    /**
     * Functie om de waarde van de cookie te returnen
     *
     * EXTRA: Lees hier meer over substring
     * https://www.w3schools.com/jsref/jsref_substring.asp
     *
     * @param cname de naam van de cookie
     * @returns {string} de waarde v
     */
    function getCookie(cname) {
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        
        let cookieArray = decodedCookie.split(';'); // Splijt de cookies op basis van ;
        
        for(let i = 0; i <cookieArray.length; i++) {
            let cookie = cookieArray[i];
            // Wit-tekens negeren
            while (cookie.charAt(0) === ' ') {
                cookie = cookie.substring(1);
            }
            // Als de cookie gevonden is:
            if (cookie.indexOf(name) === 0) {
                return cookie.substring(name.length, cookie.length);
            }
        }
        return "";
    }

    /**
     * Controleert of de cookie voorkomt
     * @param cookieName de naam van de cookie
     * @returns {boolean} true wanneer de cookie bestaat en een waarde heeft
     */
    function checkCookieExists(cookieName) {
        let cookieValue = getCookie(cookieName);
        return cookieValue !== "";
    }

</script>
</body>
</html>